<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¬éƒ½æ—…æ¸¸ - æµ‹è¯•é¡µé¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: #f5f5f7;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .test-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 500px;
        }
        
        .test-title {
            font-size: 2rem;
            color: #1d1d1f;
            margin-bottom: 20px;
        }
        
        .test-status {
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        
        .success {
            background: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #81c784;
        }
        
        .error {
            background: #ffebee;
            color: #c62828;
            border: 1px solid #ef5350;
        }
        
        .debug-info {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: left;
            font-family: monospace;
            font-size: 0.9rem;
        }
        
        .btn {
            background: #007AFF;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .btn:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="test-card">
        <h1 class="test-title">ğŸ” äº¬éƒ½æ—…æ¸¸ - è¯Šæ–­é¡µé¢</h1>
        <div id="test-results"></div>
        <div class="debug-info" id="debug-info">
            <p>æ­£åœ¨åŠ è½½...</p>
        </div>
        <button class="btn" onclick="runTests()">ğŸ”„ é‡æ–°æµ‹è¯•</button>
    </div>
    
    <script>
        function runTests() {
            const results = [];
            const debugInfo = [];
            
            // æµ‹è¯• 1: æ£€æŸ¥å›¾ç‰‡åŠ è½½
            const testImage = new Image();
            testImage.onload = () => {
                results.push({ name: 'å›¾ç‰‡åŠ è½½', status: 'success', message: 'Unsplash å›¾ç‰‡å¯ä»¥æ­£å¸¸åŠ è½½' });
                updateUI();
            };
            testImage.onerror = () => {
                results.push({ name: 'å›¾ç‰‡åŠ è½½', status: 'error', message: 'Unsplash å›¾ç‰‡åŠ è½½å¤±è´¥' });
                updateUI();
            };
            testImage.src = 'https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=100&q=80';
            
            // æµ‹è¯• 2: æ£€æŸ¥ JavaScript
            try {
                const testFunction = () => true;
                if (testFunction()) {
                    results.push({ name: 'JavaScript', status: 'success', message: 'JavaScript æ‰§è¡Œæ­£å¸¸' });
                }
            } catch (e) {
                results.push({ name: 'JavaScript', status: 'error', message: 'JavaScript é”™è¯¯: ' + e.message });
            }
            
            // æµ‹è¯• 3: æ£€æŸ¥ CSS åŠ¨ç”»
            debugInfo.push('æµè§ˆå™¨æ”¯æŒ: ' + navigator.userAgent);
            debugInfo.push('å±å¹•åˆ†è¾¨ç‡: ' + window.screen.width + 'x' + window.screen.height);
            debugInfo.push('è§†å£å¤§å°: ' + window.innerWidth + 'x' + window.innerHeight);
            
            // æµ‹è¯• 4: æ£€æŸ¥æœ¬åœ°å­˜å‚¨
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                results.push({ name: 'æœ¬åœ°å­˜å‚¨', status: 'success', message: 'LocalStorage å¯ç”¨' });
            } catch (e) {
                results.push({ name: 'æœ¬åœ°å­˜å‚¨', status: 'error', message: 'LocalStorage ä¸å¯ç”¨' });
            }
            
            // æµ‹è¯• 5: æ£€æŸ¥ Fetch API
            fetch('https://api.github.com/repos/fushuais/travel')
                .then(res => {
                    if (res.ok) {
                        results.push({ name: 'GitHub API', status: 'success', message: 'å¯ä»¥è®¿é—® GitHub API' });
                    } else {
                        results.push({ name: 'GitHub API', status: 'error', message: 'GitHub API è¿”å›é”™è¯¯' });
                    }
                    updateUI();
                })
                .catch(err => {
                    results.push({ name: 'GitHub API', status: 'error', message: 'ç½‘ç»œé”™è¯¯: ' + err.message });
                    updateUI();
                });
            
            // æµ‹è¯• 6: DOM æ“ä½œ
            const testElement = document.createElement('div');
            if (document.body.appendChild(testElement)) {
                document.body.removeChild(testElement);
                results.push({ name: 'DOM æ“ä½œ', status: 'success', message: 'DOM æ“ä½œæ­£å¸¸' });
            }
            
            function updateUI() {
                const resultsDiv = document.getElementById('test-results');
                const debugDiv = document.getElementById('debug-info');
                
                let html = '';
                results.forEach(test => {
                    html += `<div class="test-status ${test.status}">
                        <strong>${test.name}:</strong> ${test.message}
                    </div>`;
                });
                resultsDiv.innerHTML = html;
                
                let debugHtml = '';
                debugInfo.forEach(info => {
                    debugHtml += `<p>${info}</p>`;
                });
                debugDiv.innerHTML = debugHtml || '<p>è°ƒè¯•ä¿¡æ¯å·²åŠ è½½</p>';
            }
            
            updateUI();
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è¿è¡Œæµ‹è¯•
        window.onload = runTests;
    </script>
</body>
</html>
